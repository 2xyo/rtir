RTIR (RT for Incident Reponse) is a tool for tracking, responding to,
and investigating reported incidents.  Out of the box, it integrates
with RT3 (Also available from bestpractical.com).

Changes in RTIR 1.1 (beta)
--------------------------
RTIR 1.1 (beta) features full integration with RT 3.2.

This includes a 3.2-style search UI, and menu changes to accomodate
this.  Instead of search results and criteria being displayed on a
single page, you can now choose to refine your search and re-run it
after you've added all of your criteria.

Search result formats are configurable in RTIR_Config.pm, so you can
easily choose which fields you would like to have displayed
for RTIR searches.


WARNING!
--------

This is a beta version of RTIR.  Be certain to make a full dump of
your database, and make backups of any local modifications that you've
made.

As always, if you are using RTIR in a production environment, we
recommend that you first install and use this version in a test
environment, in order to be certain that it meets your needs.


REQUIRED PACKAGES:
------------------

o   All packages required by core RT

o   RT 3.2.2 or later

o   The Business::Hours module (version 0.05 or later)

o   The Net::Whois::RIPE module


Upgrading instructions:
-----------------------

If you've installed a prior version of RTIR, you may need to follow
special steps to upgrade.  See the UPGRADING file for detailed
information.

If you are upgrading from a version prior to 1.0.3, you should follow
each set of upgrade instructions separately.

Installation instructions:
--------------------------

1) Once RT 3.2 and other required package have been installed and
   appear to be working properly, cd to the directory into which you
   unpacked RTIR into.

2) Edit RTIR's Makefile to point to the location of perl on your system:

PERL                    =       /usr/bin/perl

2) Edit RTIR's Makefile to point to your RT 3.2 instance:

RT_ROOT			=	/opt/rt3

3) Make any other necessary changes to the Makefile (if you used RT's
default configuration, you shouldn't need to make any).

4) make sure that mysql or pgsql's commandline tool is in your path.

5) Type "make install".

6) Add the following lines to your /opt/rt3/etc/RT_SiteConfig.pm file:

   # The RTIR config file

   $RTIR_CONFIG_FILE = "/opt/rt3/etc/RTIR_Config.pm";

   require $RTIR_CONFIG_FILE
     || die ("Couldn't load RTIR config file '$RTIR_CONFIG_FILE'\n$@");

7) If you are installing RTIR for the first time, initialize the RTIR
   database by typing "make initdb".

   WARNING: Do not attempt to re-initialize the database if you are
   upgrading.

8) Stop and start your web server.


Configuring RTIR
----------------

1) Using the Configuration option in base RT, add the email address
   of the Network Operations Team (the people who will handle
   activating and removing Blocks) as AdminCC on the Blocks queue.

2) You may want to modify the email messages that are automatically
   sent on the creation of Investigations and Blocks.  The templates
   are "LaunchMessage" in the Investigations queue and "NewMessage" in
   the Blocks queue.

3) By default, RT3 has certain global Scrips.  You should look through
   them, and disable any that don't want.

4) Staff members who handle incidents should be added to the DutyTeam
   group.

5) You can override values in the RTIR_Config.pm in your
   RT_SiteConfig.pm file, following the "require" line explained
   above.


SETTING UP THE MAIL GATEWAY 
---------------------------

An alias for the Incident Reports  queue will need to be made in either 
your global mail aliases file (if you are using NIS) or locally on your
machine.
 
Add the following lines to /etc/aliases (or your local equivalent) :

rtir:         "|/opt/rt3/bin/rt-mailgate --queue 'Incident Reports' --action correspond --url http://localhost/"

You should substitute the URL for RT's web interface for "http://localhost/".


BUGS
----

To report a bug, send email to rtir-bugs@fsck.com.
